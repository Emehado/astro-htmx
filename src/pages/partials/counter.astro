---
let count = 0;

try {
  const data = await Astro.request.formData();
  console.log(data)
  count = +(data.get("count") || "0") + 1;
} catch (error) {}
---

<form id="counter" class="mt-3" hx-post="/partials/counter">
  <h1>Counter Example</h1>
  <input type="hidden" name="count" value={count} />
  <button class="bg-amber-500 text-white px-3 py-2 rounded-xl" type="submit">
    Increment - {count}
  </button>
</form>
